# 变量与执行描述

## 公共属性

### 数字类型

数字类型的参数都拥有以下的方法描述：

| 描述      | 结果类型 | 描述作用          | 举例                    |
|---------|:----:|---------------|-----------------------|
| *.value |  数字  | 获取此属性的数值      | role.attr.mood.value  |
| *.up    |  无   | 提升此属性值        | role.attr.mood.up 5   |
| *.down  |  无   | 降低此属性值        | role.attr.mood.down 5 |
| *.eq    |  布尔  | 判定此属性是否与参数相等  | role.attr.mood.eq 5   |
| *.ne    |  布尔  | 判定此属性是否与参数不相等 | role.attr.mood.ne 5   |
| *.bt    |  布尔  | 判定此属性是否比参数大   | role.attr.mood.bt 5   |
| *.lt    |  布尔  | 判定此属性是否比参数小   | role.attr.mood.lt 5   |

### 等级类型

数字类型的参数都拥有以下的方法描述：

| 描述        | 结果类型 | 描述作用               | 举例                        |
|-----------|:----:|--------------------|---------------------------|
| *.level   |  数字  | 获取此数值的等级           | role.skill.swim.level     |
| *.levelUp |  无   | 提升此数值的等级，参数可选，默认为1 | role.skill.swim.levelUp 2 |

拥有等级类型的属性会在属性值达到阈值值自动升级。

### 文本类型

文本类型的参数都拥有以下的方法描述：

| 描述     | 结果类型 | 描述作用            | 举例                    |
|--------|:----:|-----------------|-----------------------|
| *.text |  文本  | 获取此属性的文本        | role.info.name.text   |
| *.eq   |  布尔  | 判定此属性的文本是否与参数相同 | role.info.name.eq 小明  |
| *.set  |  无   | 设置此属性的文本        | role.info.name.set 小明 |


## 角色属性

### 角色基础信息

| 描述               | 结果类型 | 描述作用                | 举例  |
|------------------|:----:|---------------------|-----|
| role.info.name.* |  ?   | 角色名称（文本类型）          | ... |
| role.info.age.*  |  ?   | 角色年龄（数字类型）          | ... |
| role.info.sex    |  数字  | 性别代号（一般情况下，1为男，2为女） | 1   |

### 角色基础属性

角色基础属性有共通性，都拥有相同的方法：

| 描述                    | 结果类型 | 描述作用                         | 举例                         |
|-----------------------|------|------------------------------|----------------------------|
| role.attr.\*.*        | ?    | 角色属性值（数字类型）                  | ...                        |
| role.attr.*.name      | 字符串  | 角色属性值名称                      | role.attr.health.name      |
| role.attr.*.max       | 数字   | 角色最大属性值                      | role.attr.health.max       |
| role.attr.*.grow      | 数字   | 角色属性值成长值，每次属性等级升级时属性最大值的提升数值 | role.attr.health.grow      |
| role.attr.*.nextLevel | 无    | 角色属性值升级                      | role.attr.health.nextLevel |

其中，`role.attr.*`中的`*`表示了以下属性：

- __health__ - 健康值
- __endurance__ - 体力值
- __brain__ - 脑力值
- __mood__ - 心情值

### 角色判定属性

角色判定属性有共通性，都拥有相同的方法：

| 描述                | 结果类型 | 描述作用        | 举例                   |
|-------------------|------|-------------|----------------------|
| role.param.\*.*   | ?    | 角色属性值（数字类型） | ...                  |
| role.param.*.name | 字符串  | 角色属性值名称     | role.param.luck.name |

其中，`role.param.*`中的`*`表示了以下属性：

- __charm__ - 魅力值
- __luck__ - 幸运值
- __logic__ - 逻辑值
- __perceptual__ - 感性值
- __sport__ - 运动值
- __spirit__ - 精神值
- __attentive__ - 专注值

### 角色技能属性

角色判定属性有共通性，都拥有相同的方法：

| 描述                   | 结果类型 | 描述作用           | 举例                         |
|----------------------|------|----------------|----------------------------|
| role.skill.\*.*      | ?    | 角色属性值（数字类型）    | ...                        |
| role.skill.\*.*      | ?    | 角色属性值（等级类型）    | ...                        |
| role.skill.*.name    | 字符串  | 角色属性值名称        | role.skill.swim.name       |
| role.skill.*.next    | 数字   | 角色属性每次升级所需数值   | role.skill.swim.next       |
| role.skill.*.setNext | 无    | 设定角色属性每次升级所需数值 | role.skill.swim.setNext 20 |

其中，`role.param.*`中的`*`表示了以下属性：

- __swim__ - 游泳

### 角色标签

角色标签与数字类型类似，但并不相同。

| 描述              | 结果类型 | 描述作用                             | 举例                 |
|-----------------|:----:|----------------------------------|--------------------|
| role.tag.value  |  数字  | 获取目标标签的数值，不存在此标签时返回-1            | role.tag.value 生病  |
| role.tag.up     |  无   | 提升目标标签的数值，不存在此标签时会自动添加标签并提升数值    | role.tag.up 生病 5   |
| role.tag.down   |  无   | 降低目标标签的数值 ，不存在此标签时会自动添加标签并降低数值   | role.tag.down 生病 5 |
| role.tag.eq     |  布尔  | 判定目标标签的数值是否与参数相等，不存在此标签时返回false  | role.tag.eq 生病 5   |
| role.tag.ne     |  布尔  | 判定目标标签的数值是否与参数不相等，不存在此标签时返回false | role.tag.ne 生病 5   |
| role.tag.bt     |  布尔  | 判定目标标签的数值是否比参数大，不存在此标签时返回false   | role.tag.bt 生病 5   |
| role.tag.lt     |  布尔  | 判定目标标签的数值是否比参数小，不存在此标签时返回false   | role.tag.lt 生病 5   |
| role.tag.has    |  布尔  | 判定角色是否拥有目标标签                     | role.tag.has 生病    |
| role.tag.hasno  |  布尔  | 判定角色是否未拥有目标标签                    | role.tag.hasno 生病  |
| role.tag.add    |  无   | 为角色添加标签                          | role.tag.add 生病    |
| role.tag.remove |  无   | 为角色移除标签                          | role.tag.remove 生病 |

## 角色背包

角色背包与角色标签类似，但并不相同。

| 描述              | 结果类型 | 描述作用                                  | 举例                   |
|-----------------|:----:|---------------------------------------|----------------------|
| role.bag.value  |  数字  | 获取道具的数量，不存在此道具时返回-1                   | role.bag.value 金币    |
| role.bag.eq     |  布尔  | 判定道具的数量是否与参数相等，不存在此道具时返回false         | role.bag.eq 金币 5     |
| role.bag.ne     |  布尔  | 判定道具的数量是否与参数不相等，不存在此道具时返回false        | role.bag.ne 金币 5     |
| role.bag.bt     |  布尔  | 判定道具的数量是否比参数大，不存在此道具时返回false          | role.bag.bt 金币 5     |
| role.bag.lt     |  布尔  | 判定道具的数量是否比参数小，不存在此道具时返回false          | role.bag.lt 金币 5     |
| role.bag.has    |  布尔  | 判定角色是否拥有目标道具                          | role.bag.has 金币      |
| role.bag.add    |  无   | 为角色添加道具或提升数量。移除数量默认为1                 | role.bag.add 金币 1    |
| role.bag.remove |  无   | 为角色移除道具或减少数量。移除数量默认为1，当移除数量为-1时会全部移除。 | role.bag.remove 金币 1 |

## 世界方法

| 描述                  | 结果类型 | 描述作用    | 举例                  |
|---------------------|:----:|---------|---------------------|
| world.addRuleOfTurn |  无   | 为世界添加规则 | world.addRuleOfTurn |

## 其他方法

| 描述              | 结果类型 | 描述作用                                      | 举例                                       |
|-----------------|:----:|-------------------------------------------|------------------------------------------|
| kit.message     |  无   | 使用MessageKit.show，支持变量                    | kit.message 角色已经@{role.info.age.value}岁了 |
| nextEvent       |  事件  | 下一个可触发的事件，如果此事件未触发，则触发                    | nextEvent                                |
| skipEvent       |  无   | 跳过当前事件                                    | skipEvent                                |
| execOption      | 执行结果 | 执行当前事件的某个选项                               | execOption 吃饭                            |
| nextTurn        | 执行结果 | 跳过当前回合的所有事件并进入下一回合                        | nextTurn                                 |
| addBranch       |  无   | 添加一个可用分支（分支已存在时不会再次添加）                    | addBranch 小学                             |
| removeBranch    |  无   | 移除已存在的分支                                  | removeBranch 小学                          |
| hasBranch       |  布尔  | 判定当前是否存在分支                                | hasBranch 小学                             |
| addEventToReady |  布尔  | 向当前的事件队列中添加事件，默认添加到事件队列尾部。无相应事件时返回false   | addEventToReady 交作业 1                    |
| addEventToPre   |  布尔  | 向下一回合的事件队列中添加事件，默认添加到事件队列尾部。无相应事件时返回false | addEventToPre 交作业 1                      |
| useItem         | 执行结果 | 使用背包中的物品                                  | useItem 手机                               |
| canUseItem      |  布尔  | 背包中的物品是否可使用                               | canUseItem 手机                            |
| finish          |  无   | 结束游戏                                      | finish                                   |